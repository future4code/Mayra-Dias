{"ast":null,"code":"import _slicedToArray from\"C:/Users/Mariana/Desktop/Mayra-Dias/modulo3/astromatch/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import axios from'axios';import{useEffect,useState}from'react';import Titulo from'../Perfil/img/download.png';import Titulo3 from'../Perfil/img/carregando.png';import Tela from'./Tela/Tela';import{Container,ContainerBotao,BotaoContainer,Header,Icone,Title,ImgPerfil,Card,Bio}from'./styled';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Perfil(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),perfil=_useState2[0],setPerfil=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),outroperfil=_useState4[0],setOutroPerfil=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),telaDoPerfil=_useState6[0],setTelaDoPerfil=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),carregando=_useState8[0],setCarregando=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),curtir=_useState10[0],setCurtir=_useState10[1];var receberPerfil=function receberPerfil(){setCarregando(\"carregando\");axios.get(\"https://us-central1-missao-newton.cloudfunctions.net/astroMatch/:mayra-carver/person\").then(function(res){var perfilNovo=res.data.profile;setPerfil(perfilNovo);setCarregando(\"carregou\");}).catch(function(erro){console.log(erro.response);setCarregando(\"erro\");});};useEffect(function(){receberPerfil();},[outroperfil]);var perfilNovo=function perfilNovo(){setOutroPerfil(outroperfil+1);};var mudaraTela=function mudaraTela(){setTelaDoPerfil(!telaDoPerfil);};var curtirPerfil=function curtirPerfil(curtir){setCurtir(curtir);enviar();perfilNovo();};var enviar=function enviar(){var body={id:perfil.id,choice:curtir};console.log(body);axios.post(\"https://us-central1-missao-newton.cloudfunctions.net/astroMatch/:mayra-carver/choose-person\",body).then(function(res){console.log(res);if(res.data.isMatch){window.alert(\"Novo Match\");}}).catch(function(err){console.log(err.response);});};var limparTela=function limparTela(){axios.put('https://us-central1-missao-newton.cloudfunctions.net/astroMatch/:mayra-carver/clear').then(function(res){console.log(res);}).catch(function(err){console.log(err.response);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(Title,{src:Titulo}),/*#__PURE__*/_jsx(\"button\",{onClick:mudaraTela,children:\"\\uD83D\\uDC9C\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{children:telaDoPerfil?/*#__PURE__*/_jsx(\"div\",{children:carregando===\"carregando\"?/*#__PURE__*/_jsx(Icone,{src:Titulo3}):/*#__PURE__*/_jsx(\"div\",{children:perfil.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ImgPerfil,{src:perfil.photo}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[perfil.name,\", \",perfil.age]}),/*#__PURE__*/_jsx(Bio,{children:perfil.bio})]}),/*#__PURE__*/_jsxs(ContainerBotao,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return curtirPerfil(false);},children:\"\\u2716\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return curtirPerfil(true);},children:\"\\uD83D\\uDC9A\"})]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum perfil dispon\\xEDvel\"})})}):/*#__PURE__*/_jsx(Tela,{perfil:perfil})})]}),/*#__PURE__*/_jsx(BotaoContainer,{children:/*#__PURE__*/_jsx(\"button\",{onClick:limparTela,children:\"Limpar swipes e matches\"})})]});}export default Perfil;","map":{"version":3,"sources":["C:/Users/Mariana/Desktop/Mayra-Dias/modulo3/astromatch/src/components/Perfil/Perfil.js"],"names":["React","axios","useEffect","useState","Titulo","Titulo3","Tela","Container","ContainerBotao","BotaoContainer","Header","Icone","Title","ImgPerfil","Card","Bio","Perfil","perfil","setPerfil","outroperfil","setOutroPerfil","telaDoPerfil","setTelaDoPerfil","carregando","setCarregando","curtir","setCurtir","receberPerfil","get","then","res","perfilNovo","data","profile","catch","erro","console","log","response","mudaraTela","curtirPerfil","enviar","body","id","choice","post","isMatch","window","alert","err","limparTela","put","photo","name","age","bio"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\nimport {useEffect, useState} from 'react'\r\nimport Titulo from '../Perfil/img/download.png'\r\nimport Titulo3 from '../Perfil/img/carregando.png'\r\nimport Tela from './Tela/Tela'\r\nimport {Container, ContainerBotao, BotaoContainer, Header, Icone, Title, ImgPerfil, Card, Bio} from './styled'\r\n\r\n\r\n\r\n\r\nfunction Perfil(){\r\n  const [perfil, setPerfil] = useState({})\r\n  const [outroperfil, setOutroPerfil] = useState(0)\r\n  const [telaDoPerfil, setTelaDoPerfil] = useState(true)\r\n  const [carregando, setCarregando] = useState(\"\")\r\n  const [curtir, setCurtir] = useState(false)\r\n  \r\n  \r\n  const receberPerfil = () =>{\r\n    setCarregando(\"carregando\")\r\n      axios.get(\"https://us-central1-missao-newton.cloudfunctions.net/astroMatch/:mayra-carver/person\")\r\n\r\n      .then((res) => {\r\n       const perfilNovo = res.data.profile\r\n       setPerfil(perfilNovo)   \r\n       setCarregando(\"carregou\")\r\n\r\n\r\n      })\r\n      .catch((erro) => {\r\n       console.log(erro.response)\r\n       setCarregando(\"erro\")\r\n\r\n      })\r\n    }\r\n useEffect(() => {\r\n  receberPerfil()\r\n }, [outroperfil])\r\n\r\nconst perfilNovo = () => {\r\nsetOutroPerfil(outroperfil+1)\r\n}\r\n\r\nconst mudaraTela = () => {\r\n  setTelaDoPerfil(!telaDoPerfil)\r\n}\r\n\r\nconst curtirPerfil = (curtir) => {\r\n  setCurtir(curtir)\r\n  enviar()\r\n  perfilNovo()\r\n\r\n}\r\n\r\nconst enviar = () =>{\r\n  const body = {\r\n    id: perfil.id,\r\n    choice: curtir\r\n  }\r\n  console.log(body)\r\n  axios.post(\"https://us-central1-missao-newton.cloudfunctions.net/astroMatch/:mayra-carver/choose-person\", body)\r\n  .then((res) => {\r\nconsole.log(res)\r\nif (res.data.isMatch){\r\n   window.alert(\"Novo Match\")\r\n}\r\n})\r\n.catch((err) => {\r\n  console.log(err.response)\r\n})\r\n}\r\n\r\nconst limparTela = () =>{\r\n axios.put('https://us-central1-missao-newton.cloudfunctions.net/astroMatch/:mayra-carver/clear')\r\n .then((res) => {\r\n   console.log(res)\r\n })\r\n.catch((err) => {\r\n  console.log(err.response)\r\n})\r\n}\r\n  return (\r\n    <div>\r\n    <Container>\r\n      <Header>\r\n     <Title src= {Titulo}/>\r\n     <button onClick={mudaraTela}>💜</button>\r\n      </Header>\r\n      <hr/>\r\n      <div>\r\n       { \r\n         telaDoPerfil ?\r\n           <div>\r\n            {\r\n                carregando === \"carregando\"?\r\n                  <Icone src= {Titulo3}/>\r\n                  :\r\n                  <div>\r\n                  {\r\n                  perfil.id?\r\n                  <>\r\n                   <ImgPerfil src={perfil.photo}/>\r\n                <Card>  \r\n                  <p>{perfil.name}, {perfil.age}</p>\r\n                  <Bio>{perfil.bio}</Bio>\r\n                </Card>  \r\n                     <ContainerBotao> \r\n                     <button onClick={() => curtirPerfil(false)}>✖️</button>\r\n                     <button onClick={() => curtirPerfil(true)}>💚</button>\r\n                     </ContainerBotao>\r\n                  </>\r\n                  :\r\n                <p>Nenhum perfil disponível</p>\r\n              }\r\n                </div>\r\n            }   \r\n            </div>\r\n            :\r\n            <Tela perfil={perfil}/>\r\n       }\r\n    </div>\r\n\r\n</Container>\r\n<BotaoContainer>\r\n    <button onClick={limparTela}>Limpar swipes e matches</button>\r\n    </BotaoContainer>\r\n  </div>\r\n      \r\n)\r\n}\r\n\r\nexport default Perfil;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}