{"ast":null,"code":"import _slicedToArray from\"C:/Users/Mariana/Desktop/Mayra-Dias/modulo6/brainn/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import GlobalStateContext from\"./GlobalStateContext\";import{BASE_URL}from\"../constants/urls\";import useRequestData from\"../hooks/useRequestData\";import{getContestResult}from\"../services/getContestResult\";import{jsx as _jsx}from\"react/jsx-runtime\";var GlobalState=function GlobalState(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),loteryId=_useState2[0],setLoteryId=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),result=_useState4[0],setResult=_useState4[1];var _useRequestData=useRequestData(\"\".concat(BASE_URL,\"/loterias\"),[]),loteryGames=_useRequestData.data;var _useRequestData2=useRequestData(\"\".concat(BASE_URL,\"/loterias-concursos\"),[]),loteryContests=_useRequestData2.data;var contestId=loteryContests[loteryId]&&loteryContests[loteryId].concursoId;useEffect(function(){if(contestId){getContestResult(contestId,setResult);}},[contestId]);var data={result:result,loteryId:loteryId,loteryGames:loteryGames,setLoteryId:setLoteryId};return/*#__PURE__*/_jsx(GlobalStateContext.Provider,{value:data,children:props.children});};export default GlobalState;","map":{"version":3,"sources":["C:/Users/Mariana/Desktop/Mayra-Dias/modulo6/Brainn/src/global/GlobalState.js"],"names":["React","useState","useEffect","GlobalStateContext","BASE_URL","useRequestData","getContestResult","GlobalState","props","loteryId","setLoteryId","result","setResult","loteryGames","data","loteryContests","contestId","concursoId","children"],"mappings":"yKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,OAASC,QAAT,KAAyB,mBAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,OAASC,gBAAT,KAAiC,8BAAjC,C,2CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC7B,cAAgCP,QAAQ,CAAC,CAAD,CAAxC,wCAAOQ,QAAP,eAAiBC,WAAjB,eACA,eAA4BT,QAAQ,EAApC,yCAAOU,MAAP,eAAeC,SAAf,eACA,oBAA8BP,cAAc,WAAID,QAAJ,cAAyB,EAAzB,CAA5C,CAAcS,WAAd,iBAAQC,IAAR,CAEA,qBAAiCT,cAAc,WAC1CD,QAD0C,wBAE7C,EAF6C,CAA/C,CAAcW,cAAd,kBAAQD,IAAR,CAKA,GAAME,CAAAA,SAAS,CACbD,cAAc,CAACN,QAAD,CAAd,EAA4BM,cAAc,CAACN,QAAD,CAAd,CAAyBQ,UADvD,CAGAf,SAAS,CAAC,UAAM,CACd,GAAIc,SAAJ,CAAe,CACbV,gBAAgB,CAACU,SAAD,CAAYJ,SAAZ,CAAhB,CACD,CACF,CAJQ,CAIN,CAACI,SAAD,CAJM,CAAT,CAMA,GAAMF,CAAAA,IAAI,CAAG,CAAEH,MAAM,CAANA,MAAF,CAAUF,QAAQ,CAARA,QAAV,CAAoBI,WAAW,CAAXA,WAApB,CAAiCH,WAAW,CAAXA,WAAjC,CAAb,CAEA,mBACE,KAAC,kBAAD,CAAoB,QAApB,EAA6B,KAAK,CAAEI,IAApC,UACGN,KAAK,CAACU,QADT,EADF,CAKD,CA1BD,CA4BA,cAAeX,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport GlobalStateContext from \"./GlobalStateContext\";\r\nimport { BASE_URL } from \"../constants/urls\";\r\nimport useRequestData from \"../hooks/useRequestData\";\r\nimport { getContestResult } from \"../services/getContestResult\";\r\n\r\nconst GlobalState = (props) => {\r\n  const [loteryId, setLoteryId] = useState(0);\r\n  const [result, setResult] = useState();\r\n  const { data: loteryGames } = useRequestData(`${BASE_URL}/loterias`, []);\r\n\r\n  const { data: loteryContests } = useRequestData(\r\n    `${BASE_URL}/loterias-concursos`,\r\n    []\r\n  );\r\n\r\n  const contestId =\r\n    loteryContests[loteryId] && loteryContests[loteryId].concursoId;\r\n\r\n  useEffect(() => {\r\n    if (contestId) {\r\n      getContestResult(contestId, setResult);\r\n    }\r\n  }, [contestId]);\r\n\r\n  const data = { result, loteryId, loteryGames, setLoteryId };\r\n\r\n  return (\r\n    <GlobalStateContext.Provider value={data}>\r\n      {props.children}\r\n    </GlobalStateContext.Provider>\r\n  );\r\n};\r\n\r\nexport default GlobalState;\r\n"]},"metadata":{},"sourceType":"module"}